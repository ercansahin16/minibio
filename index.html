<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Bio'm</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: rgba(249, 250, 251, 0.8);
            --card-bg: rgba(255, 255, 255, 0.85);
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --accent: #7c3aed;
            --border: rgba(229, 231, 235, 0.6);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
            
            /* VarsayÄ±lan arka plan - JS ile deÄŸiÅŸtirilebilir */
            background: 
                radial-gradient(circle at 10% 20%, rgba(124, 58, 237, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(59, 130, 246, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.1) 0%, transparent 30%),
                linear-gradient(135deg, #f0f9ff 0%, #fdf2f8 50%, #f0fdf4 100%);
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        
        /* FLU FÄ°LTRE */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backdrop-filter: blur(6px) saturate(150%);
            -webkit-backdrop-filter: blur(6px) saturate(150%);
            background: rgba(255, 255, 255, 0.15); /* %15 beyaz ÅŸeffaflÄ±k */
            z-index: -1;
            pointer-events: none;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        /* LÄ°NK SAYFASI */
        .link-page {
            background: var(--card-bg);
            border-radius: 28px;
            padding: 45px 35px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            text-align: center;
        }
        
        /* PROFÄ°L BÃ–LÃœMÃœ */
        .profile-section {
            margin-bottom: 45px;
            position: relative;
            border-radius: 24px;
            overflow: hidden;
            padding: 40px 20px;
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        /* Profil bÃ¶lÃ¼mÃ¼ arka plan overlay (resim Ã¼zerinde hafif karanlÄ±k katman) */
        .profile-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.2); /* Resim Ã¼zerinde hafif koyu katman */
            z-index: 1;
        }
        
        .profile-img-container {
            position: relative;
            width: 150px;
            height: 150px;
            margin: 0 auto 25px;
            cursor: pointer;
            transition: transform 0.3s;
            z-index: 2;
        }
        
        .profile-img-container:hover {
            transform: scale(1.05);
        }
        
        .profile-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
        }
        
        h1 {
            font-size: 2.4rem;
            margin-bottom: 12px;
            background: linear-gradient(135deg, var(--accent), #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
            position: relative;
            z-index: 2;
            display: inline-block;
            padding: 10px 20px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.7); /* Hafif flu beyaz arka plan */
        }
        
        .bio {
            color: white; /* Arka plan resmine uyum iÃ§in beyaz */
            max-width: 500px;
            margin: 0 auto 35px;
            font-size: 1.15rem;
            line-height: 1.7;
            position: relative;
            z-index: 2;
            display: inline-block;
            padding: 12px 24px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.7); /* Hafif flu beyaz arka plan */
            color: var(--text-primary); /* Koyu renk yazÄ± */
        }
        
        /* LÄ°NKLER */
        .links-container {
            display: flex;
            flex-direction: column;
            gap: 18px;
            margin-bottom: 40px;
        }
        
        .link-item {
            display: flex;
            align-items: center;
            padding: 22px 30px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--border);
            border-radius: 18px;
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.4s;
            text-align: left;
            position: relative;
        }
        
        .link-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(to bottom, var(--accent), #8b5cf6);
        }
        
        .link-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            border-color: rgba(124, 58, 237, 0.3);
        }
        
        .link-icon {
            font-size: 1.8rem;
            margin-right: 20px;
            width: 50px;
            text-align: center;
        }
        
        .link-title {
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 6px;
        }
        
        .link-url {
            font-size: 0.95rem;
            color: var(--text-secondary);
            word-break: break-all;
        }
        
        /* ÅžÄ°FRE MODALI */
        .password-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .password-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .password-box {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 40px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border);
            transform: translateY(20px);
            transition: transform 0.4s;
        }
        
        .password-modal.active .password-box {
            transform: translateY(0);
        }
        
        .password-box h3 {
            margin-bottom: 20px;
            color: var(--accent);
            font-size: 1.5rem;
        }
        
        .password-box input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .password-box input:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        .password-box button {
            padding: 14px 30px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .password-box button:hover {
            background: #6d28d9;
            transform: translateY(-2px);
        }
        
        .error-message {
            color: #ef4444;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }
        
        /* YÃ–NETÄ°M PANELÄ° */
        .admin-panel {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            backdrop-filter: blur(10px);
            display: none;
        }
        
        .admin-panel.active {
            display: block;
        }
        
        .admin-panel h2 {
            margin-bottom: 25px;
            color: var(--accent);
            font-size: 1.6rem;
        }
        
        .form-group {
            margin-bottom: 22px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .form-control {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border);
            border-radius: 14px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.7);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
        }
        
        .emoji-selector {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 12px;
            padding: 15px;
            background: rgba(249, 250, 251, 0.7);
            border-radius: 14px;
            border: 1px solid var(--border);
        }
        
        .emoji-option {
            font-size: 1.8rem;
            cursor: pointer;
            padding: 12px;
            border-radius: 12px;
            background: white;
            transition: all 0.3s;
        }
        
        .emoji-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .emoji-option.selected {
            background: var(--accent);
            color: white;
            transform: scale(1.1);
        }
        
        /* BUTONLAR */
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 14px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }
        
        .btn-primary {
            background: var(--accent);
            color: white;
        }
        
        .btn-primary:hover {
            background: #6d28d9;
            transform: translateY(-3px);
        }

        /* Mevcut linkler listesi iÃ§in - DRAG & DROP EKLENDÄ° */
        .links-list {
            min-height: 100px;
            overflow: visible;
        }
        
        .link-card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move; /* SÃ¼rÃ¼kleme iÅŸareti */
            transition: all 0.3s;
            position: relative;
            user-select: none; /* Metin seÃ§imini engelle */
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .link-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .link-card.dragging {
            opacity: 0.5;
            transform: scale(0.95);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .link-card.drag-over {
            border: 2px dashed var(--accent);
            background-color: rgba(124, 58, 237, 0.05);
            transform: scale(1.02);
        }
        
        .drag-handle {
            cursor: move;
            color: var(--text-secondary);
            margin-right: 15px;
            font-size: 1.2rem;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        
        .drag-handle:hover {
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--accent);
        }
        
        .link-info {
            display: flex;
            align-items: center;
            flex-grow: 1;
            min-width: 0;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .action-btn {
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .edit-btn {
            background: rgba(124, 58, 237, 0.1);
            color: var(--accent);
            margin-right: 10px;
        }
        
        .edit-btn:hover {
            background: rgba(124, 58, 237, 0.2);
        }

        .delete-btn {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }
        
        .delete-btn:hover {
            background: rgba(239, 68, 68, 0.2);
        }
        
        /* SABÄ°TLEME BUTONU */
        .pin-btn {
            background: rgba(255, 193, 7, 0.1);
            color: #ffc107;
            margin-right: 10px;
        }
        
        .pin-btn:hover {
            background: rgba(255, 193, 7, 0.2);
        }
        
        .pin-btn.pinned {
            background: rgba(255, 193, 7, 0.3);
            color: #ff9800;
        }
        
        /* SÄ±ralama sÄ±fÄ±rlama butonu */
        .reset-order-btn {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            margin-left: 15px;
        }
        
        .reset-order-btn:hover {
            background: rgba(59, 130, 246, 0.2);
        }
        
        /* Link sÄ±ra numarasÄ± */
        .link-order {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        
        /* SÄ±ralama bilgi mesajÄ± */
        .sort-info {
            display: flex;
            align-items: center;
            background: rgba(124, 58, 237, 0.05);
            padding: 12px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .sort-info i {
            color: var(--accent);
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        /* SabitlenmiÅŸ linkler baÅŸlÄ±ÄŸÄ± */
        .pinned-section {
            margin-bottom: 20px;
        }
        
        .pinned-title {
            color: var(--accent);
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .pinned-title i {
            color: #ffc107;
        }

        /* RESPONSIVE TASARIM GELÄ°ÅžTÄ°RMELERÄ° */
        
      /* ========== TABLET & MOBÄ°L â€“ KOMPAKT TASARIM ========== */
@media (max-width: 768px) {
    body {
        padding: 12px;
        background-attachment: scroll;
    }

    .container {
        gap: 20px;
    }

    .link-page {
        padding: 25px 20px;
        border-radius: 24px;
    }

    .profile-section {
        min-height: 280px;
        padding: 25px 15px;
    }

    .profile-img-container {
        width: 110px;
        height: 110px;
        margin-bottom: 15px;
    }

    h1 {
        font-size: 1.8rem;
        padding: 6px 14px;
    }

    .bio {
        font-size: 0.95rem;
        padding: 8px 16px;
        margin-bottom: 20px;
    }

    /* ðŸ”— LÄ°NKLER â€“ DAHA KÃœÃ‡ÃœK */
    .links-container {
        gap: 12px;
        margin-bottom: 30px;
    }

    .link-item {
        padding: 14px 18px;
        border-radius: 16px;
    }

    .link-icon {
        font-size: 1.5rem;
        margin-right: 12px;
        width: 40px;
    }

    .link-title {
        font-size: 1rem;
        margin-bottom: 4px;
    }

    .link-url {
        font-size: 0.8rem;
    }

    /* ðŸ› ï¸ YÃ–NETÄ°M PANELÄ° */
    .admin-panel {
        padding: 20px;
    }

    .form-control {
        padding: 10px 14px;
        font-size: 0.95rem;
    }

    .btn {
        padding: 10px 18px;
        font-size: 0.95rem;
        width: 100%;
        margin-bottom: 10px;
        margin-left: 0 !important;
    }

    .emoji-option {
        font-size: 1.4rem;
        padding: 8px;
        width: 44px;
        height: 44px;
    }

    /* ðŸ“‹ LÄ°NK KARTLARI â€“ YÃ–NETÄ°M PANELÄ° */
    .link-card {
        padding: 14px;
        margin-bottom: 12px;
    }

    .link-info {
        gap: 12px;
    }

    .drag-handle {
        margin-right: 10px;
        font-size: 1.1rem;
        padding: 6px;
    }

    .link-order {
        width: 26px;
        height: 26px;
        font-size: 0.8rem;
    }

    .link-card [style*="font-size: 1.8rem"] {
        font-size: 1.5rem !important;
        margin-right: 10px !important;
    }

    .link-card [style*="font-weight: 600"] {
        font-size: 0.95rem !important;
    }

    .link-card [style*="font-size: 0.9rem"] {
        font-size: 0.8rem !important;
    }

    .action-btn {
        padding: 6px 12px;
        font-size: 0.8rem;
    }

    .pin-btn,
    .edit-btn,
    .delete-btn {
        margin-right: 6px;
    }

    .link-card > div:last-child {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        width: 100%;
    }

    .link-card > div:last-child button {
        flex: 1 1 auto;
        min-width: 80px;
        justify-content: center;
    }
}

/* ========== KÃœÃ‡ÃœK TELEFON (480px altÄ±) ========== */
@media (max-width: 480px) {
    body {
        padding: 8px;
    }

    .link-page {
        padding: 20px 15px;
    }

    .profile-section {
        min-height: 220px;
        padding: 20px 10px;
    }

    .profile-img-container {
        width: 90px;
        height: 90px;
        margin-bottom: 12px;
    }

    h1 {
        font-size: 1.6rem;
        padding: 4px 12px;
    }

    .bio {
        font-size: 0.85rem;
        padding: 6px 12px;
        margin-bottom: 18px;
    }

    .links-container {
        gap: 8px;
    }

    .link-item {
        padding: 12px 14px;
        border-radius: 14px;
    }

    .link-icon {
        font-size: 1.3rem;
        margin-right: 10px;
        width: 35px;
    }

    .link-title {
        font-size: 0.9rem;
    }

    .link-url {
        font-size: 0.7rem;
    }

    .admin-panel h2 {
        font-size: 1.3rem;
    }

    .form-group label {
        font-size: 0.85rem;
    }

    .form-control {
        padding: 8px 12px;
        font-size: 0.9rem;
    }

    .btn {
        padding: 8px 16px;
        font-size: 0.9rem;
    }

    .emoji-option {
        font-size: 1.2rem;
        padding: 6px;
        width: 38px;
        height: 38px;
    }

    /* ðŸ“‹ LÄ°NK KARTLARI â€“ 480PX */
    .link-card {
        padding: 12px;
    }

    .link-info {
        gap: 10px;
    }

    .drag-handle {
        margin-right: 8px;
        font-size: 1rem;
        padding: 4px;
    }

    .link-order {
        width: 22px;
        height: 22px;
        font-size: 0.7rem;
    }

    .link-card [style*="font-size: 1.8rem"] {
        font-size: 1.3rem !important;
        margin-right: 8px !important;
    }

    .link-card [style*="font-weight: 600"] {
        font-size: 0.85rem !important;
    }

    .action-btn {
        padding: 5px 10px;
        font-size: 0.75rem;
    }

    .link-card > div:last-child button {
        min-width: 70px;
    }
}

/* ========== YATAY MOD (LANDSCAPE) ========== */
@media (max-height: 600px) and (orientation: landscape) {
    .profile-section {
        min-height: 180px;
        margin-bottom: 20px;
        padding: 15px 10px;
    }

    .profile-img-container {
        width: 80px;
        height: 80px;
        margin-bottom: 10px;
    }

    h1 {
        font-size: 1.4rem;
    }

    .bio {
        font-size: 0.8rem;
        margin-bottom: 15px;
    }

    .links-container {
        gap: 8px;
        margin-bottom: 20px;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <!-- LÄ°NK SAYFASI -->
        <div class="link-page" id="linkPage">
            <div class="profile-section" id="profileSection" style="background-image: url('');">
                <div class="profile-img-container" id="profileImageContainer" title="YÃ¶netim paneline giriÅŸ iÃ§in 3 kez tÄ±klayÄ±n">
                    <img src="" alt="Bekleyiniz..." class="profile-img" id="profileImage">
                </div>
                <h1 id="profileName">esahin</h1>
                <p class="bio" id="profileBio">Mini Bio'ma hoÅŸgeldiniz...</p>
            </div>
            
            <div class="links-container" id="linksContainer">
                <!-- Linkler buraya eklenecek -->
                <div class="link-item" style="justify-content: center; background: rgba(124, 58, 237, 0.05);">
                    <p style="color: var(--text-secondary); text-align: center; padding: 15px;">
                        <i class="fas fa-plus-circle" style="margin-right: 10px; color: var(--accent);"></i>
                        YÃ¶netim panelinden ilk linkinizi ekleyin
                    </p>
                </div>
            </div>
            
            <div class="footer" style="color: var(--text-secondary); font-size: 0.9rem; opacity: 0.8;">
                <p>Â© 2024 â€¢ TÃ¼m baÄŸlantÄ±lar gÃ¼ncel tutulmaktadÄ±r</p>
            </div>
        </div>
        
        <!-- ÅžÄ°FRE MODALI -->
        <div class="password-modal" id="passwordModal">
            <div class="password-box">
                
                
                <input type="password" id="passwordInput" placeholder="" autocomplete="off">
                <div class="error-message" id="passwordError">LÃ¼tfen tekrar deneyin.</div>
                <button id="submitPassword">GiriÅŸ</button>
                <p style="color: var(--text-secondary); font-size: 0.3rem; margin-top: 2px;">
                   <!-- <i class="fas fa-info-circle">12343</i> -->
                </p>
            </div>
        </div>
        
        <!-- YÃ–NETÄ°M PANELÄ° (GÄ°ZLÄ°) -->
        <div class="admin-panel" id="adminPanel">
            <h2><i class="fas fa-cog"></i> Link YÃ¶netim Paneli</h2>
            
            <div class="form-group">
                <label for="profileNameInput"><i class="fas fa-user"></i> Profil AdÄ±nÄ±z</label>
                <input type="text" id="profileNameInput" class="form-control" placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z" value="esahin">
            </div>
            
            <div class="form-group">
                <label for="profileBioInput"><i class="fas fa-edit"></i> Profil AÃ§Ä±klamanÄ±z</label>
                <input type="text" id="profileBioInput" class="form-control" placeholder="Kendiniz hakkÄ±nda kÄ±sa bir aÃ§Ä±klama" value="Mini Bio'ma hoÅŸgeldiniz...">
            </div>
            
            <div class="form-group">
                <label for="profileImageInput"><i class="fas fa-image"></i> Profil Resmi URL</label>
                <input type="text" id="profileImageInput" class="form-control" placeholder="https://example.com/resmim.jpg" value="">
                <small style="color: var(--text-secondary); display: block; margin-top: 8px;">
                    Ä°nternetteki bir resmin linkini yapÄ±ÅŸtÄ±rÄ±n
                </small>
            </div>
            
            <!-- GÃœNCELLENDÄ°: PROFÄ°L BÃ–LÃœMÃœ ARKA PLAN URL ALANI -->
            <div class="form-group">
                <label for="profileBackgroundInput"><i class="fas fa-paint-brush"></i> Profil BÃ¶lÃ¼mÃ¼ Arka Plan URL</label>
                <input type="text" id="profileBackgroundInput" class="form-control" placeholder="https://example.com/arkaplan.jpg" value="">
                <small style="color: var(--text-secondary); display: block; margin-top: 8px;">
                    Profil bÃ¶lÃ¼mÃ¼ iÃ§in bir arka plan resmi linki yapÄ±ÅŸtÄ±rÄ±n (flu olmayacak)
                </small>
            </div>
            
            <div class="form-group">
                <label for="backgroundInput"><i class="fas fa-image"></i> Sayfa Arka Plan URL</label>
                <input type="text" id="backgroundInput" class="form-control" placeholder="https://example.com/arkaplan.jpg">
                <small style="color: var(--text-secondary); display: block; margin-top: 8px;">
                    TÃ¼m sayfa iÃ§in bir arka plan resmi linki yapÄ±ÅŸtÄ±rÄ±n (boÅŸ bÄ±rakÄ±rsanÄ±z varsayÄ±lan arka plan kullanÄ±lÄ±r)
                </small>
            </div>
            
            <hr style="margin: 30px 0; border: none; border-top: 1px solid var(--border); opacity: 0.5;">
            
            <h3 style="margin-bottom: 20px; color: var(--text-primary);">
                <i class="fas fa-plus-circle"></i> Yeni Link Ekle
            </h3>
            
            <div class="form-group">
                <label for="linkTitle"><i class="fas fa-heading"></i> Link BaÅŸlÄ±ÄŸÄ±</label>
                <input type="text" id="linkTitle" class="form-control" placeholder="Ã–rnek: Instagram Profilim">
            </div>
            
            <div class="form-group">
                <label for="linkUrl"><i class="fas fa-link"></i> Link URL'si</label>
                <input type="text" id="linkUrl" class="form-control" placeholder="https://www.instagram.com/kullaniciadi">
            </div>
            
            <div class="form-group">
                <label><i class="fas fa-icons"></i> Ä°kon/Emoji SeÃ§in</label>
                <div class="emoji-selector" id="emojiSelector">
                    <!-- Emojiler JavaScript ile eklenecek -->
                </div>
            </div>
            
            <div class="form-group">
                <button class="btn btn-primary" id="addLinkBtn">
                    <i class="fas fa-plus"></i> Link Ekle
                </button>
                <button class="btn btn-primary" id="updateProfileBtn" style="margin-left: 15px;">
                    <i class="fas fa-save"></i> TÃ¼m AyarlarÄ± Kaydet
                </button>
                <button class="btn" id="closeAdminBtn" style="margin-left: 15px; background: #f3f4f6; color: var(--text-primary);">
                    <i class="fas fa-times"></i> Paneli Kapat
                </button>
            </div>
            
            <div id="existingLinksSection" style="margin-top: 40px;">
                <div class="sort-info">
                    <i class="fas fa-arrows-alt"></i>
                    <span>Linkleri sÄ±ralamak iÃ§in sÃ¼rÃ¼kleyip bÄ±rakabilirsiniz. Sabitli linkler her zaman Ã¼stte gÃ¶rÃ¼nÃ¼r.</span>
                </div>
                
                <h3 style="margin-bottom: 20px; color: var(--text-primary);">
                    <i class="fas fa-list"></i> Mevcut Linklerim
                </h3>
                <div class="links-list" id="linksList">
                    <!-- Link listesi buraya eklenecek -->
                    <div style="text-align: center; padding: 30px; color: var(--text-secondary); background: rgba(249, 250, 251, 0.7); border-radius: 14px; border: 2px dashed var(--border);">
                        <i class="fas fa-link" style="font-size: 2rem; margin-bottom: 15px; display: block; opacity: 0.5;"></i>
                        <p>HenÃ¼z link eklenmemiÅŸ</p>
                    </div>
                </div>
                
                <div style="margin-top: 20px; text-align: center;">
                    <button class="btn reset-order-btn" id="resetOrderBtn">
                        <i class="fas fa-undo"></i> SÄ±ralamayÄ± SÄ±fÄ±rla
                    </button>
                    <button class="btn btn-primary" id="saveOrderBtn" style="margin-left: 15px;">
                        <i class="fas fa-save"></i> SÄ±ralamayÄ± Kaydet
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        // Firebase modÃ¼llerini import et
        import { db } from "./firebase-core.js";
        import {
            collection,
            doc,
            getDoc,
            setDoc,
            updateDoc,
            deleteDoc,
            addDoc,
            query,
            orderBy,
            onSnapshot,
            getDocs
        } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

        // KULLANICI VERÄ°LERÄ°
        let userLinks = [];
        let currentEmoji = 'ðŸ”—';
        let editingLinkId = null;
        let clickCount = 0;
        let lastClickTime = 0;
        const PASSWORD = "12343";
        
        // Drag & Drop iÃ§in deÄŸiÅŸkenler
        let draggedItem = null;
        
        // EMOJÄ° LÄ°STESÄ°
        const emojis = ['ðŸ”—', 'ðŸ“¸', 'ðŸŽ¥', 'ðŸŽµ', 'ðŸ’»', 'ðŸ“±', 'ðŸŽ¨', 'ðŸ“', 'ðŸ“š', 'ðŸ›’', 'ðŸ“§', 'ðŸ’¬', 'ðŸ“¢', 'ðŸŒŸ', 'ðŸš€', 'â¤ï¸', 'ðŸ“…', 'ðŸ“', 'ðŸ’°', 'ðŸŽ®', 'ðŸ ', 'âœˆï¸', 'ðŸŽ­', 'ðŸ¿', 'ðŸ“Š', 'ðŸ› ï¸', 'ðŸŽ¯', 'âœ¨', 'ðŸ”¥', 'â­'];
        
        // SAYFA YÃœKLENDÄ°ÄžÄ°NDE
        document.addEventListener('DOMContentLoaded', async function() {
            // Firebase'den verileri yÃ¼kle
            await loadDataFromFirebase();
            initEmojiSelector();
            setupEventListeners();
            setupPasswordSystem();
            setupDragAndDrop();
            
            // GerÃ§ek zamanlÄ± gÃ¼ncelleme iÃ§in dinleme baÅŸlat
            setupRealtimeUpdates();
        });
        
        // FIREBASE'DEN VERÄ° YÃœKLE
        async function loadDataFromFirebase() {
            try {
                const docRef = doc(db, "profiles", "main");
                const docSnap = await getDoc(docRef);
                
                if (docSnap.exists()) {
                    const data = docSnap.data();
                    
                    // Profil bilgilerini yÃ¼kle
                    document.getElementById('profileName').textContent = data.name || 'esahin';
                    document.getElementById('profileBio').textContent = data.bio || 'Mini Bio\'ma hoÅŸgeldiniz...';
                    
                    if (data.image) {
                        document.getElementById('profileImage').src = data.image;
                        document.getElementById('profileImageInput').value = data.image;
                    }
                    
                    if (data.profileBackground) {
                        document.getElementById('profileSection').style.backgroundImage = `url('${data.profileBackground}')`;
                        document.getElementById('profileBackgroundInput').value = data.profileBackground;
                    }
                    
                    if (data.background) {
                        applyBackground(data.background);
                        document.getElementById('backgroundInput').value = data.background;
                    }
                    
                    document.getElementById('profileNameInput').value = data.name || 'esahin';
                    document.getElementById('profileBioInput').value = data.bio || 'Mini Bio\'ma hoÅŸgeldiniz...';
                    
                    // Linkleri yÃ¼kle
                    const linksSnapshot = await getDocs(collection(db, "links"));
                    userLinks = [];
                    linksSnapshot.forEach((linkDoc) => {
                        const linkData = linkDoc.data();
                        userLinks.push({
                            id: linkDoc.id,
                            ...linkData
                        });
                    });
                    
                    // Linkleri order'a gÃ¶re sÄ±rala
                    userLinks.sort((a, b) => {
                        // Pinned olanlarÄ± Ã¶nce gÃ¶ster
                        if (a.pinned && !b.pinned) return -1;
                        if (!a.pinned && b.pinned) return 1;
                        // Sonra order'a gÃ¶re sÄ±rala
                        return (a.order || 0) - (b.order || 0);
                    });
                    
                    renderLinks();
                    
                } else {
                    // EÄŸer veri yoksa, varsayÄ±lan verileri oluÅŸtur
                    await createDefaultData();
                }
            } catch (error) {
                console.error("Firebase'den veri yÃ¼klenirken hata:", error);
                showMessage("Veriler yÃ¼klenirken bir hata oluÅŸtu!", 'error');
            }
        }
        
        // GERÃ‡EK ZAMANLI GÃœNCELLEME DÄ°NLEMESÄ°
        function setupRealtimeUpdates() {
            // Linkler iÃ§in gerÃ§ek zamanlÄ± gÃ¼ncelleme
            const q = query(collection(db, "links"), orderBy("order", "asc"));
            onSnapshot(q, (querySnapshot) => {
                userLinks = [];
                querySnapshot.forEach((doc) => {
                    const linkData = doc.data();
                    userLinks.push({
                        id: doc.id,
                        ...linkData
                    });
                });
                
                // Linkleri sÄ±rala
                userLinks.sort((a, b) => {
                    // Pinned olanlarÄ± Ã¶nce gÃ¶ster
                    if (a.pinned && !b.pinned) return -1;
                    if (!a.pinned && b.pinned) return 1;
                    // Sonra order'a gÃ¶re sÄ±rala
                    return (a.order || 0) - (b.order || 0);
                });
                
                renderLinks();
            });
            
            // Profil iÃ§in gerÃ§ek zamanlÄ± gÃ¼ncelleme
            const profileRef = doc(db, "profiles", "main");
            onSnapshot(profileRef, (doc) => {
                if (doc.exists()) {
                    const data = doc.data();
                    document.getElementById('profileName').textContent = data.name || 'esahin';
                    document.getElementById('profileBio').textContent = data.bio || 'Mini Bio\'ma hoÅŸgeldiniz...';
                    
                    if (data.image) {
                        document.getElementById('profileImage').src = data.image;
                    }
                    
                    if (data.profileBackground) {
                        document.getElementById('profileSection').style.backgroundImage = `url('${data.profileBackground}')`;
                    }
                    
                    if (data.background) {
                        applyBackground(data.background);
                    }
                }
            });
        }
        
        // VARSayÄ±lan VERÄ° OLUÅžTUR
        async function createDefaultData() {
            try {
                // VarsayÄ±lan profil
                const profileRef = doc(db, "profiles", "main");
                await setDoc(profileRef, {
                    name: "esahin",
                    bio: "Mini Bio'ma hoÅŸgeldiniz...",
                    image: "",
                    profileBackground: "",
                    background: "",
                    updatedAt: new Date()
                });
                
                // VarsayÄ±lan linkler
                const defaultLinks = [
                    { title: "Instagram", url: "https://instagram.com", emoji: "ðŸ“¸", pinned: true, order: 0, createdAt: new Date() },
                    { title: "YouTube", url: "https://youtube.com", emoji: "ðŸŽ¥", pinned: true, order: 1, createdAt: new Date() },
                    { title: "GitHub", url: "https://github.com", emoji: "ðŸ’»", pinned: false, order: 2, createdAt: new Date() }
                ];
                
                for (const link of defaultLinks) {
                    await addDoc(collection(db, "links"), link);
                }
                
                // Yerel verileri gÃ¼ncelle
                const linksSnapshot = await getDocs(collection(db, "links"));
                userLinks = [];
                linksSnapshot.forEach((doc) => {
                    const linkData = doc.data();
                    userLinks.push({
                        id: doc.id,
                        ...linkData
                    });
                });
                
                renderLinks();
                
            } catch (error) {
                console.error("VarsayÄ±lan veri oluÅŸturulurken hata:", error);
                showMessage("VarsayÄ±lan veriler oluÅŸturulurken bir hata oluÅŸtu!", 'error');
            }
        }
        
        // ÅžÄ°FRE SÄ°STEMÄ°NÄ° KUR
        function setupPasswordSystem() {
            const profileImage = document.getElementById('profileImageContainer');
            const passwordModal = document.getElementById('passwordModal');
            const passwordInput = document.getElementById('passwordInput');
            const submitBtn = document.getElementById('submitPassword');
            const errorMsg = document.getElementById('passwordError');
            const adminPanel = document.getElementById('adminPanel');
            const closeAdminBtn = document.getElementById('closeAdminBtn');
            
            // Profil resmine 3 tÄ±klama
            profileImage.addEventListener('click', function(e) {
                const currentTime = new Date().getTime();
                
                if (currentTime - lastClickTime < 1000) {
                    clickCount++;
                    
                    if (clickCount === 3) {
                        passwordModal.classList.add('active');
                        passwordInput.focus();
                        clickCount = 0;
                    }
                } else {
                    clickCount = 1;
                }
                
                lastClickTime = currentTime;
            });
            
            // Åžifre gÃ¶nderme
            submitBtn.addEventListener('click', function() {
                const enteredPassword = passwordInput.value;
                
                if (enteredPassword === PASSWORD) {
                    passwordModal.classList.remove('active');
                    adminPanel.classList.add('active');
                    passwordInput.value = '';
                    errorMsg.style.display = 'none';
                } else {
                    errorMsg.style.display = 'block';
                    passwordInput.value = '';
                    passwordInput.focus();
                    
                    setTimeout(() => {
                        errorMsg.style.display = 'none';
                    }, 3000);
                }
            });
            
            // Enter tuÅŸu ile ÅŸifre gÃ¶nderme
            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    submitBtn.click();
                }
            });
            
            // Modal dÄ±ÅŸÄ±na tÄ±klayarak kapatma
            passwordModal.addEventListener('click', function(e) {
                if (e.target === passwordModal) {
                    passwordModal.classList.remove('active');
                    passwordInput.value = '';
                    errorMsg.style.display = 'none';
                    clickCount = 0;
                }
            });
            
            // YÃ¶netim panelini kapatma
            closeAdminBtn.addEventListener('click', function() {
                adminPanel.classList.remove('active');
            });
            
            // ESC tuÅŸu ile modal kapatma
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (passwordModal.classList.contains('active')) {
                        passwordModal.classList.remove('active');
                        passwordInput.value = '';
                        errorMsg.style.display = 'none';
                        clickCount = 0;
                    }
                    
                    if (adminPanel.classList.contains('active')) {
                        adminPanel.classList.remove('active');
                    }
                }
            });
        }
        
        // SAYFA ARKA PLANINI UYGULA
        function applyBackground(url) {
            if (url && url.trim() !== '') {
                const img = new Image();
                
                img.onload = function() {
                    document.body.style.backgroundImage = `url('${url}')`;
                    document.body.style.backgroundSize = 'cover';
                    document.body.style.backgroundPosition = 'center';
                    document.body.style.backgroundAttachment = 'fixed';
                    document.body.style.backgroundRepeat = 'no-repeat';
                    console.log('Arka plan baÅŸarÄ±yla yÃ¼klendi:', url);
                };
                
                img.onerror = function() {
                    console.error('Arka plan yÃ¼klenemedi:', url);
                    resetToDefaultBackground();
                };
                
                img.src = url;
            } else {
                resetToDefaultBackground();
            }
        }
        
        // VarsayÄ±lan arka plana dÃ¶n
        function resetToDefaultBackground() {
            document.body.style.backgroundImage = '';
            document.body.style.background = 
                'radial-gradient(circle at 10% 20%, rgba(124, 58, 237, 0.15) 0%, transparent 20%),' +
                'radial-gradient(circle at 90% 80%, rgba(59, 130, 246, 0.15) 0%, transparent 20%),' +
                'radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.1) 0%, transparent 30%),' +
                'linear-gradient(135deg, #f0f9ff 0%, #fdf2f8 50%, #f0fdf4 100%)';
        }
        
        // EMOJÄ° SEÃ‡Ä°CÄ°YÄ° HAZIRLA
        function initEmojiSelector() {
            const selector = document.getElementById('emojiSelector');
            selector.innerHTML = '';
            
            emojis.forEach(emoji => {
                const emojiElement = document.createElement('div');
                emojiElement.className = 'emoji-option';
                emojiElement.textContent = emoji;
                emojiElement.title = emoji;
                emojiElement.addEventListener('click', () => {
                    document.querySelectorAll('.emoji-option').forEach(el => {
                        el.classList.remove('selected');
                    });
                    
                    emojiElement.classList.add('selected');
                    currentEmoji = emoji;
                });
                
                selector.appendChild(emojiElement);
            });
            
            if (selector.firstChild) {
                selector.firstChild.classList.add('selected');
            }
        }
        
        // LÄ°NKLERÄ° EKRANDA GÃ–STER
        function renderLinks() {
            const linksContainer = document.getElementById('linksContainer');
            const linksList = document.getElementById('linksList');
            
            if (userLinks.length === 0) {
                linksContainer.innerHTML = `
                    <div class="link-item" style="justify-content: center; background: rgba(124, 58, 237, 0.05);">
                        <p style="color: var(--text-secondary); text-align: center; padding: 15px;">
                            <i class="fas fa-plus-circle" style="margin-right: 10px; color: var(--accent);"></i>
                            Ä°lk linkinizi ekleyin
                        </p>
                    </div>
                `;
                
                linksList.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: var(--text-secondary); background: rgba(249, 250, 251, 0.7); border-radius: 14px; border: 2px dashed var(--border);">
                        <i class="fas fa-link" style="font-size: 2rem; margin-bottom: 15px; display: block; opacity: 0.5;"></i>
                        <p>HenÃ¼z link eklenmemiÅŸ</p>
                    </div>
                `;
                return;
            }
            
            // Link sayfasÄ± iÃ§in
            linksContainer.innerHTML = '';
            userLinks.forEach((link, index) => {
                const linkElement = document.createElement('a');
                linkElement.href = link.url;
                linkElement.target = '_blank';
                linkElement.className = 'link-item';
                
                linkElement.innerHTML = `
                    <div class="link-icon">${link.emoji || 'ðŸ”—'}</div>
                    <div class="link-content">
                        <div class="link-title">${link.title}</div>
                        <div class="link-url">${link.url.replace('https://', '').replace('http://', '').replace('www.', '')}</div>
                    </div>
                    <i class="fas fa-external-link-alt" style="color: var(--text-secondary); opacity: 0.7;"></i>
                `;
                
                linksContainer.appendChild(linkElement);
            });
            
            // YÃ¶netim paneli listesi iÃ§in
            linksList.innerHTML = '';
            
            const pinnedLinks = userLinks.filter(link => link.pinned);
            const unpinnedLinks = userLinks.filter(link => !link.pinned);
            
            if (pinnedLinks.length > 0) {
                const pinnedTitle = document.createElement('div');
                pinnedTitle.className = 'pinned-title';
                pinnedTitle.innerHTML = `<i class="fas fa-thumbtack"></i> SabitlenmiÅŸ Linkler (${pinnedLinks.length})`;
                linksList.appendChild(pinnedTitle);
            }
            
            pinnedLinks.forEach((link, index) => {
                const linkCard = createLinkCard(link, index);
                linksList.appendChild(linkCard);
            });
            
            if (unpinnedLinks.length > 0 && pinnedLinks.length > 0) {
                const unpinnedTitle = document.createElement('div');
                unpinnedTitle.className = 'pinned-title';
                unpinnedTitle.innerHTML = `<i class="fas fa-link"></i> DiÄŸer Linkler (${unpinnedLinks.length})`;
                unpinnedTitle.style.marginTop = '30px';
                linksList.appendChild(unpinnedTitle);
            }
            
            unpinnedLinks.forEach((link, index) => {
                const actualIndex = pinnedLinks.length + index;
                const linkCard = createLinkCard(link, actualIndex);
                linksList.appendChild(linkCard);
            });
            
            setupDragAndDrop();
        }
        
        // LÄ°NK KARTI OLUÅžTUR
        function createLinkCard(link, index) {
            const linkCard = document.createElement('div');
            linkCard.className = 'link-card';
            linkCard.draggable = true;
            linkCard.dataset.id = link.id;
            
            const pinIcon = link.pinned ? 'fas fa-thumbtack' : 'far fa-thumbtack';
            const pinClass = link.pinned ? 'pinned' : '';
            const pinTitle = link.pinned ? 'Sabitlemeyi KaldÄ±r' : 'BaÅŸa Sabitle';
            
            linkCard.innerHTML = `
                <div class="link-info">
                    <div class="link-order">${index + 1}</div>
                    <div class="drag-handle">
                        <i class="fas fa-arrows-alt"></i>
                    </div>
                    <div style="font-size: 1.8rem; margin-right: 15px;">${link.emoji || 'ðŸ”—'}</div>
                    <div style="min-width: 0; flex: 1;">
                        <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">${link.title}</div>
                        <div style="font-size: 0.9rem; color: var(--text-secondary); word-break: break-all;">${link.url}</div>
                    </div>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="action-btn pin-btn ${pinClass}" onclick="window.togglePin('${link.id}')" title="${pinTitle}">
                        <i class="${pinIcon}"></i> ${link.pinned ? 'Sabitli' : 'Sabitle'}
                    </button>
                    <button class="action-btn edit-btn" onclick="window.editLink('${link.id}')">
                        <i class="fas fa-edit"></i> DÃ¼zenle
                    </button>
                    <button class="action-btn delete-btn" onclick="window.deleteLink('${link.id}')">
                        <i class="fas fa-trash"></i> Sil
                    </button>
                </div>
            `;
            
            return linkCard;
        }
        
        // DRAG & DROP SÄ°STEMÄ°NÄ° KUR
        function setupDragAndDrop() {
            const linkCards = document.querySelectorAll('.link-card');
            
            linkCards.forEach(card => {
                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragover', handleDragOver);
                card.addEventListener('drop', handleDrop);
                card.addEventListener('dragend', handleDragEnd);
                card.addEventListener('dragenter', handleDragEnter);
                card.addEventListener('dragleave', handleDragLeave);
            });
        }
        
        // DRAG & DROP OLAYLARI
        function handleDragStart(e) {
            draggedItem = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.innerHTML);
        }
        
        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
            return false;
        }
        
        function handleDragEnter(e) {
            this.classList.add('drag-over');
        }
        
        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }
        
        function handleDrop(e) {
            e.stopPropagation();
            e.preventDefault();
            
            if (draggedItem !== this) {
                const draggedId = draggedItem.dataset.id;
                const dropId = this.dataset.id;
                
                const draggedLink = userLinks.find(l => l.id === draggedId);
                const dropLink = userLinks.find(l => l.id === dropId);
                
                if (draggedLink.pinned !== dropLink.pinned) {
                    showMessage('Sabitli ve sabitli olmayan linkleri karÄ±ÅŸtÄ±ramazsÄ±nÄ±z!', 'error');
                    this.classList.remove('drag-over');
                    return false;
                }
                
                // Linklerin sÄ±rasÄ±nÄ± gÃ¼ncelle
                const draggedIndex = userLinks.findIndex(l => l.id === draggedId);
                const dropIndex = userLinks.findIndex(l => l.id === dropId);
                
                const [movedLink] = userLinks.splice(draggedIndex, 1);
                userLinks.splice(dropIndex, 0, movedLink);
                
                // Firebase'de sÄ±ralamayÄ± gÃ¼ncelle
                updateLinkOrder();
            }
            
            this.classList.remove('drag-over');
            return false;
        }
        
        function handleDragEnd(e) {
            this.classList.remove('dragging');
            document.querySelectorAll('.link-card').forEach(card => {
                card.classList.remove('drag-over');
            });
        }
        
        // FÄ°REBASE FONKSÄ°YONLARI
        async function updateProfile() {
            try {
                const profileRef = doc(db, "profiles", "main");
                const profileData = {
                    name: document.getElementById('profileNameInput').value.trim() || 'esahin',
                    bio: document.getElementById('profileBioInput').value.trim() || 'Mini Bio\'ma hoÅŸgeldiniz...',
                    image: document.getElementById('profileImageInput').value.trim(),
                    profileBackground: document.getElementById('profileBackgroundInput').value.trim(),
                    background: document.getElementById('backgroundInput').value.trim(),
                    updatedAt: new Date()
                };
                
                await setDoc(profileRef, profileData, { merge: true });
                
                showMessage('Profil baÅŸarÄ±yla gÃ¼ncellendi!');
            } catch (error) {
                console.error("Profil gÃ¼ncellenirken hata:", error);
                showMessage('Profil gÃ¼ncellenirken bir hata oluÅŸtu!', 'error');
            }
        }
        
        async function addLink() {
            try {
                const title = document.getElementById('linkTitle').value.trim();
                const url = document.getElementById('linkUrl').value.trim();
                
                if (!title || !url) {
                    showMessage('LÃ¼tfen link baÅŸlÄ±ÄŸÄ± ve URL\'si girin!', 'error');
                    return;
                }
                
                let fullUrl = url;
                if (!fullUrl.startsWith('http://') && !fullUrl.startsWith('https://')) {
                    fullUrl = 'https://' + fullUrl;
                }
                
                const newLink = {
                    title: title,
                    url: fullUrl,
                    emoji: currentEmoji,
                    pinned: false,
                    order: userLinks.length,
                    createdAt: new Date()
                };
                
                if (editingLinkId !== null) {
                    // Link gÃ¼ncelleme
                    const linkRef = doc(db, "links", editingLinkId);
                    await updateDoc(linkRef, newLink);
                    editingLinkId = null;
                    document.getElementById('addLinkBtn').innerHTML = '<i class="fas fa-plus"></i> Link Ekle';
                } else {
                    // Yeni link ekleme
                    await addDoc(collection(db, "links"), newLink);
                }
                
                // Formu temizle
                document.getElementById('linkTitle').value = '';
                document.getElementById('linkUrl').value = '';
                
                showMessage('Link baÅŸarÄ±yla eklendi!');
                
            } catch (error) {
                console.error("Link eklenirken hata:", error);
                showMessage('Link eklenirken bir hata oluÅŸtu!', 'error');
            }
        }
        
        async function editLink(linkId) {
            const link = userLinks.find(l => l.id === linkId);
            if (!link) return;
            
            document.getElementById('linkTitle').value = link.title;
            document.getElementById('linkUrl').value = link.url;
            
            currentEmoji = link.emoji || 'ðŸ”—';
            document.querySelectorAll('.emoji-option').forEach(el => {
                el.classList.remove('selected');
                if (el.textContent === currentEmoji) {
                    el.classList.add('selected');
                }
            });
            
            editingLinkId = linkId;
            document.getElementById('addLinkBtn').innerHTML = '<i class="fas fa-save"></i> Linki GÃ¼ncelle';
            document.getElementById('linkTitle').focus();
        }
        
        async function deleteLink(linkId) {
            if (confirm('Bu linki silmek istediÄŸinize emin misiniz?')) {
                try {
                    const linkRef = doc(db, "links", linkId);
                    await deleteDoc(linkRef);
                    showMessage('Link baÅŸarÄ±yla silindi!');
                } catch (error) {
                    console.error("Link silinirken hata:", error);
                    showMessage('Link silinirken bir hata oluÅŸtu!', 'error');
                }
            }
        }
        
        async function togglePin(linkId) {
            try {
                const link = userLinks.find(l => l.id === linkId);
                if (!link) return;
                
                const linkRef = doc(db, "links", linkId);
                await updateDoc(linkRef, {
                    pinned: !link.pinned,
                    updatedAt: new Date()
                });
                
                showMessage(`Link ${!link.pinned ? 'sabitlendi' : 'sabitlenmekten Ã§Ä±karÄ±ldÄ±'}!`);
            } catch (error) {
                console.error("Link sabitleme hatasÄ±:", error);
                showMessage('Link sabitlenirken bir hata oluÅŸtu!', 'error');
            }
        }
        
        async function updateLinkOrder() {
            try {
                // Her link iÃ§in order deÄŸerini gÃ¼ncelle
                const updatePromises = userLinks.map(async (link, index) => {
                    const linkRef = doc(db, "links", link.id);
                    await updateDoc(linkRef, {
                        order: index,
                        updatedAt: new Date()
                    });
                });
                
                await Promise.all(updatePromises);
                showMessage('SÄ±ralama gÃ¼ncellendi!');
            } catch (error) {
                console.error("SÄ±ralama gÃ¼ncellenirken hata:", error);
                showMessage('SÄ±ralama gÃ¼ncellenirken bir hata oluÅŸtu!', 'error');
            }
        }
        
        async function resetLinkOrder() {
            if (confirm('Link sÄ±ralamasÄ±nÄ± varsayÄ±lan duruma sÄ±fÄ±rlamak istediÄŸinize emin misiniz?')) {
                try {
                    // Tarihe gÃ¶re sÄ±rala
                    const sortedLinks = [...userLinks].sort((a, b) => {
                        return new Date(a.createdAt) - new Date(b.createdAt);
                    });
                    
                    // Her link iÃ§in order deÄŸerini gÃ¼ncelle
                    const updatePromises = sortedLinks.map(async (link, index) => {
                        const linkRef = doc(db, "links", link.id);
                        await updateDoc(linkRef, {
                            order: index,
                            updatedAt: new Date()
                        });
                    });
                    
                    await Promise.all(updatePromises);
                    showMessage('SÄ±ralama sÄ±fÄ±rlandÄ±!');
                } catch (error) {
                    console.error("SÄ±ralama sÄ±fÄ±rlanÄ±rken hata:", error);
                    showMessage('SÄ±ralama sÄ±fÄ±rlanÄ±rken bir hata oluÅŸtu!', 'error');
                }
            }
        }
        
        // MESAJ GÃ–STER
        function showMessage(message, type = 'success') {
            const existingMessage = document.querySelector('.custom-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            const backgroundColor = type === 'error' ? '#ef4444' : '#10b981';
            const icon = type === 'error' ? 'fa-exclamation-circle' : 'fa-check-circle';
            
            const messageBox = document.createElement('div');
            messageBox.className = 'custom-message';
            messageBox.innerHTML = `
                <div style="
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${backgroundColor};
                    color: white;
                    padding: 15px 25px;
                    border-radius: 12px;
                    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
                    z-index: 10000;
                    font-weight: 600;
                    display: flex;
                    align-items: center;
                    animation: slideIn 0.3s ease-out;
                    max-width: 400px;
                ">
                    <i class="fas ${icon}" style="margin-right: 10px;"></i>
                    ${message}
                </div>
            `;
            
            document.body.appendChild(messageBox);
            
            setTimeout(() => {
                messageBox.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    if (messageBox.parentNode) {
                        messageBox.parentNode.removeChild(messageBox);
                    }
                }, 300);
            }, 3000);
        }
        
        // EVENT LISTENER'LARI AYARLA
        function setupEventListeners() {
            document.getElementById('addLinkBtn').addEventListener('click', addLink);
            document.getElementById('updateProfileBtn').addEventListener('click', updateProfile);
            document.getElementById('closeAdminBtn').addEventListener('click', function() {
                document.getElementById('adminPanel').classList.remove('active');
            });
            
            document.getElementById('linkUrl').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addLink();
                }
            });
            
            document.getElementById('saveOrderBtn').addEventListener('click', updateLinkOrder);
            document.getElementById('resetOrderBtn').addEventListener('click', resetLinkOrder);
        }
        
        // CSS animasyonu ekle
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // Global fonksiyonlar
        window.editLink = editLink;
        window.deleteLink = deleteLink;
        window.togglePin = togglePin;
    </script>
</body>
</html>









